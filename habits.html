{% extends "base.html" %}

{% block content %}
<style>
    .btn-primary.habit-btn {
        width: auto;
        background-color: #333;
        border: 1px solid #555;
    }

    .btn-primary.habit-btn:hover {
        background-color: #444;
        border-color: #666;
    }

    .btn-primary.habit-btn.done {
        background-color: #4caf50;
        border-color: #4caf50;
    }

    .btn-primary.habit-btn.done:hover {
        background-color: #45a049;
        border-color: #45a049;
    }
</style>

<div class="files-container" style="max-width: 600px;">
    <h2><i class="fas fa-check-square"></i> Habit Tracker</h2>

    <div class="auth-box" style="width: 100%; margin: 20px 0; padding: 20px;">
        <form method="POST" style="display: flex; gap: 10px;">
            <input type="text" name="name" placeholder="New Habit (e.g., Read 30 mins)" required
                style="flex:1; padding: 10px; border-radius: 6px; border: 1px solid #444; background: #333; color: #fff;">
            <button type="submit" class="btn-primary" style="width: auto;">Add</button>
        </form>
    </div>

    <div class="thread-list">
        {% for item in habits %}
        <div class="thread-item"
            style="display: flex; justify-content: space-between; align-items: center; padding: 20px;">
            <div>
                <h3>{{ item.habit.name }}</h3>
                <span style="color: #aaa; font-size: 0.8rem;">Daily Goal</span>
            </div>

            <a href="{{ url_for('toggle_habit', habit_id=item.habit.id) }}"
                class="btn-primary habit-btn {% if item.today_done %}done{% endif %}">
                {% if item.today_done %}<i class="fas fa-check"></i> Done{% else %}Mark Done{% endif %}
            </a>
        </div>
        {% else %}
        <p class="no-files">No habits tracked yet.</p>
        {% endfor %}
    </div>
</div>
{% endblock %}